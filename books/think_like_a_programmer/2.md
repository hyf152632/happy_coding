# 纯粹的难题

我们将广泛的使用问题的分治和削减技巧。

问题：编写一个程序，只用两条输出语句 cont << "#" 和 cout << "\n", 生成一个像半个 5x5 正方形形状（直角三角形）的#符号图案：

首先可供采用的一种优秀武器是削减法。
我们怎样把这个问题削减为很容易解决的情况呢？如果这个图案是完整的正方形而不是半正方形，情况会不会更简单一点？

采用削减技巧，从问题描述到完整的程序之间需要更多的步骤，但每个步骤都变得非常容易。

Luhn 检验和问题

因为我们做事情总是需要一个计划，因此应该创建这些问题的一个列表，并逐个处理它们。

为了解决这些问题，我们在编写最终的解决方案之前将对每个单独的片段进行处理。
因此，我们并不需要按照任何特定的顺序处理这些问题。我们可以从最容易的问题开始，如果喜欢接受挑战，也可以从最困难的问题开始。

把计算隔离到一个独立的小程序中可以使试验变得更简单。

在开始解决列表中的问题之前，我们首先把先前得到的代码段转化为一个短小的函数，这样就可以简化未来的代码清单；

```c++
int doubleDigitValue(int digit) {
    int doubledDigit = digit * 2;
    int sum;
    if(doubleDigit > 10) sum = 1 + doubleDigit % 10;
    else sum = doubleDigit;
    return sum;
}
```

```C++
char digit;
int checksum = 0;
int position = 1;
cout << "Enter a number with an even number of digits: ";
digit = cin.get();
while (digit != 10){
    if(position % 2 == 0) checksum += digit - '0';
    else checksum += 2 * (digit - '0');
    digit = cin.get();
    position++;
}
cout << "Checksum is " << checksum << ". \n";
if(checksum % 10 == 0) {
    cont << "Checksum is divisible by 10. Valid. \n";
} else {
    cout << "Checksum is not divisible by 10. Invalid. \n";
}
```

同时以两种方式追踪当前的检验和，分别是在标识符为奇数长度和偶数长度的情况下。当我们读取完这个编号并确定了它的真正长度时，再选择表示正确检验和的变量。

片段汇总

[note] 如果是如同函数式编程所提倡的纯函数一样，可以很方便的组合在一起使用。

我们的目标是解决问题。当然，首要目标是找到一个解决所陈述问题并满足所有约束条件的程序，其次是在尽可能少的时间内找到这个程序。
尽量减少需要采取的步骤数量并不是我们的目标，没人会知道我们实际采取了多少个步骤。以登上为例，我们可以沿着坡度较小的蜿蜒山路到达山顶。如果忽略这条山路，而是从山脚直接往山顶爬，所需要攀登的直线距离当然短了很多，但它真的会更快吗？直接攀登的结果很可能在半途因为体力崩溃而放弃。
另外，记住解决问题的最后一个基本原则：避免陷入挫折感。每个步骤试图完成的工作越多，遭受挫折的可能性就越大。

分解复杂问题的重要性。

如果觉得当前问题的描述“似曾相识”时，可以发掘原有的类似代码，以帮助当前问题的研究。

**保存代码供以后复用**.

把问题分解为可管理的片段。

尽可能多地尝试自身能够承受的问题。既然我们已经完全进入了实际的编程中，多完成一些习题对于提高自己解决问题的能力是非常重要的。
