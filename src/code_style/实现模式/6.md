# 状态

对象方便地包装了行为（behavior）和状态（state）：前者被暴露给外部世界，后者则为前者提供支持。
对象的好处之一便是将程序中所有的状态分割成小块，每一块都有属于自己的计算环境。

把世界看作许多不断变化的事物的总和，这种思路早已被人们证明行之有效。
当我们这个行业的先驱为”计算机编程“寻找适当的隐喻时，他们找到了”状态变迁“。

函数式编程语言根本不允许改变状态，不过这些语言没有一个流行的。
我认为状态是一个有用的隐喻，因为我们大脑的结构和条件就适合处理不断变化的状态。如果变量只能赋值一次，甚至根本不能使用变量，我们就会失去很多有效的思维策略，所以这不是一种吸引人的编程方式。

对象语言也采用了处理状态的策略。这些语言把系统的状态细分到各个小块中，每个小块对其他小块的访问都受到严格限制。
从而有可能避免状态”在背后偷偷改变“的问题。毕竟跟踪一小块字节比洞悉亿兆字节要容易得多。
”猜错状态“的可能性仍然存在，但对象使你有可能快速而精准地查看所有访问某一变量的地方。

有效管理状态的关键在于：把相似地状态放在一起，确保不同的状态彼此分离。有两条线索指出两个状态的相似性：它们在一个计算中被用到；它们出现和消亡的时间相同。
如果两个状态总是被同时使用，而且有同样的生命周期，他们就应该被放在一起。

做出当下可用地决策，保持在将来改变主意地灵活性，这是做好软件开发的关键。
正是考虑到将来可能需要改变，才使得清晰描述你的”存储-计算“决策如此重要。

对象的功能之一是管理存储空间。每个对象看起来都是一个独立的计算环境，拥有自己的一块内存空间，一定程度上与其他的计算环境相隔离。现在的编程语言（包括 Java）都提供了公有（public）字段的概念，从而模糊了对象之间的边界。
不过，跨对象访问的便利性并不足以弥补失去对象独立性地损失

对于如何访问状态，我的默认策略是，允许在类（及其内部类）中直接访问，其他的使用者必须间接访问。

所谓初始化，就是在使用变量之前把它们设置到某个已知状态的过程。
